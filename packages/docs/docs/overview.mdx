---
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Highlight from '../src/components/Hightlist';

# Overview

![license](https://img.shields.io/badge/license-MIT-0374b5?style=flat)
<p align="center">
  <img src="/img/overview.gif" />  
</p>

## Features
Es un modal declarativo donde al ejecutar un show, puedes mostrar una vista sin necesidad de montar un state de isVisible, ademas las show functions tienen un tipado estricto, y permiten una comunicacion bidireccional entre modal y cliente (Donde se ejecuto el show) permitiendo crear una infinita variedad de logicas genericas, para evitar que modales genericos absorvan logica de negocio especifica (Ej: modales de confirmacion). Como tambien esperar a que usuario tipee una input dentro del modal, sin necesidad de salir del contexto de ejecucion de una function local, ni tampoco montar un state especifico para esta respuesta.
<br/>Ademas la libreria solo expone su Core para tu montes tu propia UI, esto quiere decir que puedes montar tus propias animaciones, modales, tipos de modales, estilos, configuraciones, sin ninguna limitacion!

âœ… Core contruido con JS Vanilla, adaptadores para multiples Frameworks o librerias (React, Next.js, Prox: Solid, Qwik, Svelte, PReact).<br/>
âœ… SRR Soportado.<br/>
âœ… Perfectamente tipado.<br/>
ðŸš€ Ultra liviano, 0 dependencias, solamente APIs nativas (~2kb size).<br/>
ðŸŒŸ Modales hiper genericos sin logica de negocio dentro.<br/>
ðŸŒŸ Modales declarativos sin ningun tipo de estado (Si no se requiere).<br/>
ðŸŒŸ Comunicacion bidireccional con modales.<br/>
ðŸŒŸ Async/Await para respuestas del modal, sin salirte del contexto de la funcion.<br/>
ðŸ’¡ Headless contruye tu propia ui sin ningun tipo de limitacion, ni props extraÃ±as y complicadas.<br/>
ðŸ’¡ Animaciones basicas incluidas, pero puedes animarlo tanto como gustes!<br/>
ðŸ’¡ Ultra versatil core, para construir modales, popups, tooltips, sidebars, menus, lo que imagines! <br/>

## Demo
https://decl-modal-nextjs-app-pages-router-example.vercel.app/

## Instalacion

<Tabs>
<TabItem value='npm'>
```npm
npm install decl-modal
```
</TabItem>
<TabItem value='pnpm'>
```npm
pnpm install decl-modal
```
</TabItem>
<TabItem value='yarn'>
```npm
yarn add decl-modal
```
</TabItem>
</Tabs>

## Por que deberia utilizar estas libreria.
Esta libreria puede ser un reemplazo perfecto, para <Highlight>react-toastify</Highlight>, <Highlight>react-modal</Highlight>, <Highlight>react-tooltip</Highlight>. Ahorrando un enorme espacio en el bundle size, ademas ya no tienes por que aprender configuraciones, props, estilos especificos. Todo lo montas tu! Tus configuraciones, tus estilos, tus props! Que lo tengas que montar tu, no tiene por que ser complejo, ya que la siguiente seccion puedes simplemente copiar y copiar los contenedor de ejemplo y adaptarlos!

## Contenedores para copiar y pegar
Estos contenedores contemplan las vistas mas comunes que puedes generar con esta libreria. Puedes simplemente copiarlos y luego solo crear tus modales que extiendan de estos contenedores o incluso modificar los contenedores y configurarlos a tu gusto. :)
<nav class="pagination-nav">
  <div class="pagination-nav__item">
    <a class="pagination-nav__link" href="/docs/container/modal">
      <div class="pagination-nav__label">Modal</div>
    </a>
  </div>
  <div class="pagination-nav__item">
    <a class="pagination-nav__link" href="/docs/container/tooltip">
      <div class="pagination-nav__label">Tooltip</div>
    </a>
  </div>
  <div class="pagination-nav__item">
    <a class="pagination-nav__link" href="/docs/container/popup">
      <div class="pagination-nav__label">Popup</div>
    </a>
  </div>
  <div class="pagination-nav__item">
    <a class="pagination-nav__link" href="/docs/container/menu">
      <div class="pagination-nav__label">Menu</div>
    </a>
  </div>
  <div class="pagination-nav__item">
    <a class="pagination-nav__link" href="/docs/container/toast">
      <div class="pagination-nav__label">Toast</div>
    </a>
  </div>
</nav>

## Construye tu propio modal - Paso a paso

Para implementar un modal, inicia extendiendo tu componente de ModalProps para asegurar que tenga las propiedades requeridas. Posteriormente, utiliza la funciÃ³n generateModal de la biblioteca para crear un ModalRoot, que serÃ¡ el encargado de renderizar tu modal. Este componente ModalRoot no solo renderiza, sino que tambiÃ©n provee al modal de propiedades especiales

#### Construye tu Modal
Lo mas recomendable es que cualquier vista tenga una estructura de 2 tag (Como un div) que especifiquen el "data-modal-type" como "back" y "container". El primer div es el back y el segundo el container.
Luego de estos div ya la estructura puede ser cualquiera.

```tsx
import { ModalProps } from "decl-modal"

interface MyFirstModalProps extends ModalProps {
  myCustomProp: any
}

const MyFirstModal: React.FC<MyFirstModalProps> = ({ closeModal }) => {
  return (
    <div className='flex fixed opacity-0 bg-black bg-opacity-70 top-0 bottom-0 w-full' 
      onClick={() => closeModal(false)} 
    // highlight-next-line
      data-modal-type='back'>
      // highlight-next-line
      <div className='m-auto' data-modal-type='container'>
        <div className="bg-white rounded-md p-5 font-bold">
          Hello world! :)
        </div>
      </div>
    </div>
  )
}
```

#### Genera un showMethod/ModalRoot

```tsx
import { generateModal } from "decl-modal/react"

// Es como el useState, puedes asignarles el nombre que quieras.
export const [showMyFirstModal, MyFirstModalRoot] = generateModal(MyFirstModal)
```

#### Renderiza tu ModalRoot
```tsx
//Renderiza el Root donde quieras.
<MyFirstModalRoot />
```

#### Muestra tu modal

```tsx
// Simplemente llama al metodo show, Ej un onClick event
showMyFirstModal()
```

### Siguientes pasos (Opcionales):

#### Asginale una animacion a tu Modal
```tsx
// Definir la propiedad animation en ModalRoot
<MyFirstModalRoot animation='bubble'/>
```
<a href="/docs/animations">
  :::tip
  Puedes saber mas acerca de las animaciones aqui.
  :::
</a>

#### Separar y contruir un ModalContainer (Layout) para este modal
Gracias al hook useModalProps el cual es capaz de absorver las props del modal, puedes crear un modalContainer sin preocuparte por las props.
```tsx
import { ModalAnimProps, useModalProps } from "decl-modal/react"

interface MyGenericContainerProps { 
  children: React.ReactNode
}

const MyGenericContainer: React.FC<MyGenericContainerProps> = ({ children }) => {

  const { closeModal } = useModalProps()

  return (
    <div onClick={() => closeModal(false)} {...ModalAnimProps.back}>
      <div {...ModalAnimProps.container}>
        {children}
      </div>
    </div>
  )
}
```
:::tip
Puedes ver algunos ejemplos de contenedores aqui.
:::

#### Declara multiples modales bajo el mismo showMethod/Root
```tsx
import { type ModalProps, generateModal } from "decl-modal/react"

const Modal1: React.FC<ModalProps> = () => {
  return (
    <ModalPopUpContainer>
      <div className="bg-white rounded-md p-5 font-bold">
        Hola desde Modal1!
      </div>
    </ModalPopUpContainer>
  )
}

// Similar modal
const Modal2: React.FC<ModalProps>...

const [showModals, ModalsRoot] = generateModal({ Modals: { Modal1, Modal2 } })
showModals('Modal1', {})
showModals('Modal2', {})
```

#### Enviar respuesta y esperar una respuesta de tu modal
En el modal puede enviar una respuesta via dos metodos sendMessage, closeModal. Ambos metodos pueden extraerse de las props del modal o del useModalProps.<br/>
El cliente para obtener la respuesta simplemente deberia hacerle un await a la promise que devuelve.
```tsx
sendMessage(anyResponse)
closeModal(anyResponse)

const { response } = await showModals('Modal2', {})
```
<a href="/">
  :::tip
  Puedes saber mas acerca de la comunicacion que hay entre cliente y modal aqui.
  :::
</a>